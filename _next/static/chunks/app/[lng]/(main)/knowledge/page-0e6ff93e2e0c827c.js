(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61998],{49150:function(e,t,n){Promise.resolve().then(n.bind(n,23468))},23468:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(52948),a=n(30786),s=n(22336),i=n(68119),o=n(24293),l=n(44645),c=n(26614),d=n(92887),u=n(56815),m=n(44517),f=n(78324),x=n(72216),h=n(89986),p=n(83336),g=n(46959),j=n(19921),y=n(2720),b=n(44783),w=n(18849),v=n(52467),N=n(88671),k=n(77741);let C=g.z.object({title:g.z.string(),category:g.z.string().optional(),content:g.z.string().optional()});function z(e){let{onSubmit:t,initialValues:n,loading:o,trigger:l,title:c}=e,{lng:d}=(0,s.useParams)(),{t:u}=(0,i.$G)(d,"knowledge"),[m,f]=(0,a.useState)(!1),g=(0,p.cI)({resolver:(0,x.F)(C),defaultValues:{...n}});async function z(e){await t(e)&&f(!1)}return(0,a.useEffect)(()=>{null==g||g.reset(n)},[g,n]),(0,r.jsxs)(v.yo,{open:m,onOpenChange:f,children:[(0,r.jsx)(v.aM,{asChild:!0,children:(0,r.jsx)(j.z,{size:"sm",onClick:()=>{g.reset(),f(!0)},children:l})}),(0,r.jsxs)(v.ue,{className:"sm:max-w-[100vw]",children:[(0,r.jsx)(v.Tu,{children:(0,r.jsx)(v.bC,{children:c})}),(0,r.jsx)(w.x,{className:"-mx-6 h-[calc(100vh-48px-36px-36px)]",children:(0,r.jsx)(y.l0,{...g,children:(0,r.jsxs)("form",{onSubmit:g.handleSubmit(z),className:"space-y-4 px-6 pt-4",children:[(0,r.jsx)(y.Wi,{control:g.control,name:"title",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.xJ,{children:[(0,r.jsx)(y.lX,{children:u("form.title")}),(0,r.jsx)(y.NI,{children:(0,r.jsx)(b.I,{placeholder:u("form.titlePlaceholder"),...t})}),(0,r.jsx)(y.zG,{})]})}}),(0,r.jsx)(y.Wi,{control:g.control,name:"category",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.xJ,{children:[(0,r.jsx)(y.lX,{children:u("form.category")}),(0,r.jsx)(y.NI,{children:(0,r.jsx)(b.I,{placeholder:u("form.categoryPlaceholder"),...t})}),(0,r.jsx)(y.zG,{})]})}}),(0,r.jsx)(y.Wi,{control:g.control,name:"content",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.xJ,{children:[(0,r.jsx)(y.lX,{children:u("form.content")}),(0,r.jsx)(y.NI,{children:(0,r.jsx)(k.Z,{style:{height:"500px"},renderHTML:e=>(0,r.jsx)(N.Z,{children:e}),defaultValue:t.value,onChange:e=>{let{text:n}=e;return t.onChange(n)}})}),(0,r.jsx)(y.zG,{})]})}})]})})}),(0,r.jsxs)(v.FF,{className:"flex-row justify-end gap-2 pt-3",children:[(0,r.jsx)(j.z,{variant:"outline",disabled:o,onClick:()=>{f(!1)},children:u("form.cancel")}),(0,r.jsxs)(j.z,{disabled:o,onClick:g.handleSubmit(z),children:[o&&(0,r.jsx)(h.Icon,{icon:"mdi:loading",className:"mr-2 animate-spin"})," ",u("form.confirm")]})]})]})]})}function M(){let{lng:e}=(0,s.useParams)(),{t}=(0,i.$G)(e,"knowledge"),[n,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)({page:1,size:50}),{data:g,refetch:j}=(0,l.a)({queryKey:["postAdminKnowledgeList",h],queryFn:async()=>{let{data:e}=await (0,o.Xg)(h);return e.data}}),y=[{accessorKey:"enable",header:t("show"),cell:e=>{let{row:t}=e;return(0,r.jsx)(u.r,{defaultChecked:t.getValue("enable"),onCheckedChange:async e=>{await (0,o.BI)({...t.original,id:t.original.id,enable:e}),j()}})}},{accessorKey:"title",header:t("title")},{accessorKey:"category",header:t("category")},{accessorKey:"updated_at",header:t("updatedAt"),cell:e=>{let{row:t}=e;return(0,c.WU)(t.getValue("updated_at"),"yyyy-MM-dd HH:mm:ss")}},{id:"actions",accessorKey:"id",header:()=>(0,r.jsx)("div",{className:"text-right",children:t("actions")}),cell:e=>{let{row:a}=e;return(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(z,{trigger:t("edit"),title:t("editKnowledge"),loading:n,initialValues:a.original,onSubmit:async e=>{x(!0);try{return await (0,o.BI)({...a.original,...e}),d.A.success(t("updateSuccess")),j(),x(!1),!0}catch(e){return x(!1),!1}}}),(0,r.jsx)(f.Z,{trigger:t("delete"),title:t("confirmDelete"),description:t("deleteDescription"),onConfirm:async()=>{await (0,o.RV)({id:a.original.id}),d.A.success(t("deleteSuccess")),j()},onCancelText:t("cancel"),onConfirmText:t("confirm")})]})}}];return(0,r.jsx)(m.w,{header:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{children:t("knowledgeList")}),(0,r.jsx)(z,{trigger:t("create"),title:t("createKnowledge"),loading:n,onSubmit:async e=>{x(!0);try{return await (0,o.US)(e),d.A.success(t("createSuccess")),j(),x(!1),!0}catch(e){return x(!1),!1}}})]}),columns:y,data:(null==g?void 0:g.list)||[],pagination:{page:h.page,size:h.size,total:null==g?void 0:g.total,onChange:(e,t)=>{p({...h,page:e,size:t})}},operations:{remove:async e=>{e.forEach(async e=>{await (0,o.RV)({id:e.id})}),d.A.success(t("deleteSuccess")),j()}}})}},77741:function(e,t,n){"use strict";var r=n(85331);n(48005),n(33449);let a=(0,r.default)(()=>n.e(76777).then(n.bind(n,76777)),{loadableGenerated:{webpack:()=>[76777]},ssr:!1});t.Z=a},88671:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(52948),a=n(39475),s=n(66044),i=n(63059),o=n(16419),l=n(3085),c=n(4402),d=n(61772),u=n(18849);function m(e){let{children:t}=e,{mode:n}=(0,d.R)(a.n2);return(0,r.jsx)(s.U,{className:"prose max-w-none dark:prose-invert",remarkPlugins:[c.Z],components:{code(e){let{children:t,className:a,node:s,ref:c,...d}=e,m=/language-(\w+)/.exec(a||"");return(0,r.jsxs)(u.x,{className:"w-full",children:[(0,r.jsx)(i.Z,{...d,language:(null==m?void 0:m[1])||"bash",style:"dark"===n?o.Z:l.Z,children:String(t).replace(/\n$/,"")}),(0,r.jsx)(u.B,{orientation:"horizontal"})]})}},children:t})}},2720:function(e,t,n){"use strict";n.d(t,{NI:function(){return p},Wi:function(){return u},l0:function(){return c},lX:function(){return h},xJ:function(){return x},zG:function(){return g}});var r=n(52948),a=n(30786),s=n(63911),i=n(83336),o=n(33412),l=n(81623);let c=i.RV,d=a.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(d.Provider,{value:{name:t.name},children:(0,r.jsx)(i.Qr,{...t})})},m=()=>{let e=a.useContext(d),t=a.useContext(f),{getFieldState:n,formState:r}=(0,i.Gc)(),s=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},f=a.createContext({}),x=a.forwardRef((e,t)=>{let{className:n,...s}=e,i=a.useId();return(0,r.jsx)(f.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",n),...s})})});x.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:n,...a}=e,{error:s,formItemId:i}=m();return(0,r.jsx)(l._,{ref:t,className:(0,o.cn)(s&&"text-destructive",n),htmlFor:i,...a})});h.displayName="FormLabel";let p=a.forwardRef((e,t)=>{let{...n}=e,{error:a,formItemId:i,formDescriptionId:o,formMessageId:l}=m();return(0,r.jsx)(s.g7,{ref:t,id:i,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...n})});p.displayName="FormControl",a.forwardRef((e,t)=>{let{className:n,...a}=e,{formDescriptionId:s}=m();return(0,r.jsx)("p",{ref:t,id:s,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",n),...a})}).displayName="FormDescription";let g=a.forwardRef((e,t)=>{let{className:n,children:a,...s}=e,{error:i,formMessageId:l}=m(),c=i?String(null==i?void 0:i.message):a;return c?(0,r.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",n),...s,children:c}):null});g.displayName="FormMessage"},52467:function(e,t,n){"use strict";n.d(t,{FF:function(){return p},Tu:function(){return h},aM:function(){return d},bC:function(){return g},ue:function(){return x},yo:function(){return c}});var r=n(52948),a=n(30786),s=n(97647),i=n(28523),o=n(14709),l=n(33412);let c=s.fC,d=s.xz;s.x8;let u=s.h_,m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a,ref:t})});m.displayName=s.aV.displayName;let f=(0,o.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=a.forwardRef((e,t)=>{let{side:n="right",className:a,children:o,...c}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(s.VY,{ref:t,className:(0,l.cn)(f({side:n}),a),...c,children:[o,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(i.Pxu,{className:"size-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=s.VY.displayName;let h=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};h.displayName="SheetHeader";let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="SheetFooter";let g=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold text-foreground",n),...a})});g.displayName=s.Dx.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...a})}).displayName=s.dk.displayName},56815:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(52948),a=n(30786),s=n(84051),i=n(33412);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.fC,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...a,ref:t,children:(0,r.jsx)(s.bU,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});o.displayName=s.fC.displayName},39475:function(e,t,n){"use strict";n.d(t,{Ef:function(){return c},bP:function(){return u},n2:function(){return i}});var r=n(54526),a=n(81681),s=n(87812);let i=(0,r.sj)({systemMode:(0,s.ej)("systemMode")||a.H5,mode:(0,s.ej)("mode")||a.ws,theme:(0,s.ej)("theme")||a.t0});function o(){return(0,a.jU)()?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a.H5}function l(e){return"system"===e?o():e}function c(e){return l(e||i.mode)===document.documentElement.getAttribute("data-mode")}function d(e){i.mode!==e&&(0,s.d8)("mode",e),i.mode=e,i.currentMode=l(e);let t=document.documentElement;t.setAttribute("data-mode",i.currentMode),t.style.colorScheme=i.currentMode,i.systemMode!==o()&&(i.systemMode=o(),(0,s.d8)("systemMode",o()))}function u(e,t){var n,r;let a="dark"===document.documentElement.getAttribute("data-mode");if(!document.startViewTransition||c(e))return d(e);let s=document.startViewTransition(()=>d(e)),i=null!==(n=null==t?void 0:t.x)&&void 0!==n?n:window.innerWidth,o=null!==(r=null==t?void 0:t.y)&&void 0!==r?r:window.innerHeight,l=Math.hypot(Math.max(i,innerWidth-i),Math.max(o,innerHeight-o));s.ready.then(()=>{let e=["circle(0px at ".concat(i,"px ").concat(o,"px)"),"circle(".concat(l,"px at ").concat(i,"px ").concat(o,"px)")];document.documentElement.animate({clipPath:a?[...e].reverse():e},{duration:500,easing:"ease-in",pseudoElement:a?"::view-transition-old(root)":"::view-transition-new(root)"})})}},33449:function(){}},function(e){e.O(0,[81435,30792,61896,94699,3869,89986,34099,92494,66035,61488,97647,17399,56856,87715,82349,44517,12100,81162,1744],function(){return e(e.s=49150)}),_N_E=e.O()}]);