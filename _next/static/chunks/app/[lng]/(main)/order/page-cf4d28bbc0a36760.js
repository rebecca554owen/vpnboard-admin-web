(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29673],{89285:function(e,t,a){Promise.resolve().then(a.bind(a,8621))},8621:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(52948),s=a(26614),n=a(19921),i=a(44517),l=a(78324),o=a(30786),d=a(24293),c=a(72216),u=a(89986),m=a(44645),f=a(83336),x=a(46959),p=a(2720),h=a(44783),j=a(18849),y=a(31050),g=a(52467);let N=x.z.object({user_name:x.z.string().min(2,{message:"name must be at least 2 characters."})});function b(e){let{onSubmit:t,initialValues:a,loading:s,trigger:i,title:l}=e,[x,b]=(0,o.useState)(!1),v=(0,f.cI)({resolver:(0,c.F)(N),defaultValues:{...a}});async function w(e){await t(e)&&b(!1)}(0,o.useEffect)(()=>{null==v||v.reset(a)},[v,a]);let{data:C}=(0,m.a)({queryKey:["postAdminProductList"],queryFn:async()=>{let{data:e}=await (0,d._n)({});return e.data}});return(0,r.jsxs)(g.yo,{open:x,onOpenChange:b,children:[(0,r.jsx)(g.aM,{asChild:!0,children:(0,r.jsx)(n.z,{size:"sm",onClick:()=>{v.reset(),b(!0)},children:i})}),(0,r.jsxs)(g.ue,{children:[(0,r.jsx)(g.Tu,{children:(0,r.jsx)(g.bC,{children:l})}),(0,r.jsx)(j.x,{className:"-mx-6 h-[calc(100vh-48px-36px-36px)]",children:(0,r.jsx)(p.l0,{...v,children:(0,r.jsxs)("form",{onSubmit:v.handleSubmit(w),className:"space-y-4 px-6 pt-4",children:[(0,r.jsx)(p.Wi,{control:v.control,name:"user_name",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"用户邮箱"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(h.I,{placeholder:"请输入用户邮箱",...t})}),(0,r.jsx)(p.zG,{})]})}}),(0,r.jsx)(p.Wi,{control:v.control,name:"product",render:e=>{var t;let{field:a}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"请选择商品"}),(0,r.jsx)(p.NI,{children:(0,r.jsxs)(y.Ph,{onValueChange:e=>{a.onChange(Number(e))},defaultValue:a.value&&String(a.value),children:[(0,r.jsx)(p.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"请选择商品"})})}),(0,r.jsx)(y.Bw,{children:null==C?void 0:null===(t=C.list)||void 0===t?void 0:t.map(e=>(0,r.jsx)(y.Ql,{value:String(e.id),children:e.name},e.id))})]})}),(0,r.jsx)(p.zG,{})]})}}),(0,r.jsx)(p.Wi,{control:v.control,name:"month",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"购买月数"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(h.I,{placeholder:"请输入购买月数",...t,type:"number",value:t.value?Number(t.value):void 0,onChange:e=>{t.onChange(e.target.value?Number(e.target.value):void 0)}})}),(0,r.jsx)(p.zG,{})]})}}),(0,r.jsx)(p.Wi,{control:v.control,name:"amount",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"支付金额"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(h.I,{placeholder:"请输入需要支付的金额",...t,type:"number",value:t.value?Number(t.value):void 0,onChange:e=>{t.onChange(e.target.value?Number(e.target.value):void 0)}})}),(0,r.jsx)(p.zG,{})]})}})]})})}),(0,r.jsxs)(g.FF,{className:"flex-row justify-end gap-2 pt-3",children:[(0,r.jsx)(n.z,{variant:"outline",disabled:s,onClick:()=>{b(!1)},children:"取消"}),(0,r.jsxs)(n.z,{disabled:s,onClick:v.handleSubmit(w),children:[s&&(0,r.jsx)(u.Icon,{icon:"mdi:loading",className:"mr-2 animate-spin"})," 确定"]})]})]})]})}function v(){return(0,r.jsx)(i.w,{header:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{children:"订单列表"}),(0,r.jsx)(b,{trigger:"新建",title:"新建订单",onSubmit:async()=>!0})]}),columns:[{accessorKey:"name",header:"订单号"},{accessorKey:"type",header:"类型"},{accessorKey:"amount",header:"支付金额"},{accessorKey:"status",header:"订单状态"},{accessorKey:"commission",header:"佣金"},{accessorKey:"commission_status",header:"佣金状态"},{accessorKey:"updated_at",header:"更新时间",cell:e=>{let{row:t}=e;return(0,s.p6)(t.getValue("updated_at"),"yyyy-MM-dd HH:mm:ss")}},{id:"actions",accessorKey:"id",header:()=>(0,r.jsx)("div",{className:"text-right",children:"操作"}),cell:e=>{let{row:t}=e;return(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(n.z,{children:"编辑"}),(0,r.jsx)(l.Z,{trigger:"删除",title:"你确定要删除吗?",description:"删除后数据将无法恢复，请谨慎操作",onConfirm:async()=>{},onCancelText:"取消",onConfirmText:"确认"})]})}}],data:[],pagination:{page:1,size:0,total:0},operations:{remove:async e=>{}}})}},2720:function(e,t,a){"use strict";a.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return p},xJ:function(){return x},zG:function(){return j}});var r=a(52948),s=a(30786),n=a(63911),i=a(83336),l=a(33412),o=a(81623);let d=i.RV,c=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(i.Qr,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(f),{getFieldState:a,formState:r}=(0,i.Gc)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},f=s.createContext({}),x=s.forwardRef((e,t)=>{let{className:a,...n}=e,i=s.useId();return(0,r.jsx)(f.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",a),...n})})});x.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:n,formItemId:i}=m();return(0,r.jsx)(o._,{ref:t,className:(0,l.cn)(n&&"text-destructive",a),htmlFor:i,...s})});p.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:i,formDescriptionId:l,formMessageId:o}=m();return(0,r.jsx)(n.g7,{ref:t,id:i,"aria-describedby":s?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!s,...a})});h.displayName="FormControl",s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:n}=m();return(0,r.jsx)("p",{ref:t,id:n,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",a),...s})}).displayName="FormDescription";let j=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e,{error:i,formMessageId:o}=m(),d=i?String(null==i?void 0:i.message):s;return d?(0,r.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",a),...n,children:d}):null});j.displayName="FormMessage"},31050:function(e,t,a){"use strict";a.d(t,{Bw:function(){return x},DI:function(){return d},Ph:function(){return o},Ql:function(){return p},i4:function(){return u},ki:function(){return c}});var r=a(52948),s=a(30786),n=a(28523),i=a(21418),l=a(33412);let o=i.fC,d=i.ZA,c=i.B4,u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(i.xz,{ref:t,className:(0,l.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[s,(0,r.jsx)(i.JO,{asChild:!0,children:(0,r.jsx)(n.jnn,{className:"size-4 opacity-50"})})]})});u.displayName=i.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.u_,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.g8U,{})})});m.displayName=i.u_.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.$G,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.v4q,{})})});f.displayName=i.$G.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...o}=e;return(0,r.jsx)(i.h_,{children:(0,r.jsxs)(i.VY,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:[(0,r.jsx)(m,{}),(0,r.jsx)(i.l_,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(f,{})]})})});x.displayName=i.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",a),...s})}).displayName=i.__.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(i.ck,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(i.wU,{children:(0,r.jsx)(n.nQG,{className:"size-4"})})}),(0,r.jsx)(i.eT,{children:s})]})});p.displayName=i.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=i.Z0.displayName},52467:function(e,t,a){"use strict";a.d(t,{FF:function(){return h},Tu:function(){return p},aM:function(){return c},bC:function(){return j},ue:function(){return x},yo:function(){return d}});var r=a(52948),s=a(30786),n=a(97647),i=a(28523),l=a(14709),o=a(33412);let d=n.fC,c=n.xz;n.x8;let u=n.h_,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});m.displayName=n.aV.displayName;let f=(0,l.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:l,...d}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,o.cn)(f({side:a}),s),...d,children:[l,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(i.Pxu,{className:"size-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=n.VY.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};p.displayName="SheetHeader";let h=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="SheetFooter";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",a),...s})});j.displayName=n.Dx.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})}).displayName=n.dk.displayName}},function(e){e.O(0,[30792,61896,94699,3869,89986,34099,92494,66035,61488,97647,17399,56856,1398,21418,82349,44517,12100,81162,1744],function(){return e(e.s=89285)}),_N_E=e.O()}]);