(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3146],{45596:function(e,r,n){Promise.resolve().then(n.bind(n,49465)),Promise.resolve().then(n.bind(n,51576)),Promise.resolve().then(n.bind(n,60753)),Promise.resolve().then(n.bind(n,80621))},49465:function(e,r,n){"use strict";n.d(r,{default:function(){return z}});var t=n(52948),s=n(30786),a=n(22336),l=n(68119),i=n(24293),o=n(44645),c=n(26614),d=n(92887),u=n(44517),x=n(78324),m=n(72216),f=n(89986),h=n(83336),j=n(46959),p=n(19921),g=n(2720),v=n(44783),y=n(18849),N=n(52467);let b=j.z.object({name:j.z.string(),remarks:j.z.string()});function w(e){let{onSubmit:r,initialValues:n,loading:i,trigger:o,title:c}=e,{lng:d}=(0,a.useParams)(),{t:u}=(0,l.$G)(d,"node"),[x,j]=(0,s.useState)(!1),w=(0,h.cI)({resolver:(0,m.F)(b),defaultValues:{...n}});async function z(e){await r(e)&&j(!1)}return(0,s.useEffect)(()=>{null==w||w.reset(n)},[w,n]),(0,t.jsxs)(N.yo,{open:x,onOpenChange:j,children:[(0,t.jsx)(N.aM,{asChild:!0,children:(0,t.jsx)(p.z,{size:"sm",onClick:()=>{w.reset(),j(!0)},children:u(o)})}),(0,t.jsxs)(N.ue,{children:[(0,t.jsx)(N.Tu,{children:(0,t.jsx)(N.bC,{children:u(c)})}),(0,t.jsx)(y.x,{className:"-mx-6 h-[calc(100vh-48px-36px-36px)]",children:(0,t.jsx)(g.l0,{...w,children:(0,t.jsxs)("form",{onSubmit:w.handleSubmit(z),className:"space-y-4 px-6 pt-4",children:[(0,t.jsx)(g.Wi,{control:w.control,name:"name",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.xJ,{children:[(0,t.jsx)(g.lX,{children:u("group.form.name")}),(0,t.jsx)(g.NI,{children:(0,t.jsx)(v.I,{...r})}),(0,t.jsx)(g.zG,{})]})}}),(0,t.jsx)(g.Wi,{control:w.control,name:"remarks",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.xJ,{children:[(0,t.jsx)(g.lX,{children:u("group.form.remarks")}),(0,t.jsx)(g.NI,{children:(0,t.jsx)(v.I,{...r})}),(0,t.jsx)(g.zG,{})]})}})]})})}),(0,t.jsxs)(N.FF,{className:"flex-row justify-end gap-2 pt-3",children:[(0,t.jsx)(p.z,{variant:"outline",disabled:i,onClick:()=>{j(!1)},children:u("group.form.cancel")}),(0,t.jsxs)(p.z,{disabled:i,onClick:w.handleSubmit(z),children:[i&&(0,t.jsx)(f.Icon,{icon:"mdi:loading",className:"mr-2 animate-spin"})," ",u("group.form.confirm")]})]})]})]})}function z(){let{lng:e}=(0,a.useParams)(),{t:r}=(0,l.$G)(e,"node"),{data:n,refetch:m}=(0,o.a)({queryKey:["postAdminNodeGroupList"],queryFn:async()=>{let{data:e}=await (0,i.uR)({size:0});return e.data}}),[f,h]=(0,s.useState)(!1),j=[{accessorKey:"name",header:r("group.name")},{accessorKey:"remarks",header:r("group.description")},{accessorKey:"updated_at",header:r("group.updatedAt"),cell:e=>{let{row:r}=e;return(0,c.p6)(r.getValue("updated_at"),"yyyy-MM-dd HH:mm:ss")}},{id:"actions",accessorKey:"id",header:()=>(0,t.jsx)("div",{className:"text-right",children:r("group.actions")}),cell:e=>{let{row:n}=e;return(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(w,{trigger:r("group.edit"),title:r("group.editNodeGroup"),loading:f,initialValues:n.original,onSubmit:async e=>{h(!0);try{return await (0,i.Dl)({...n.original,id:n.original.id,...e}),d.A.success(r("group.createdSuccessfully")),m(),h(!1),!0}catch(e){return h(!1),!1}}}),(0,t.jsx)(x.Z,{trigger:r("group.delete"),title:r("group.confirmDelete"),description:r("group.deleteWarning"),onConfirm:async()=>{await (0,i.OF)({id:n.original.id}),d.A.success(r("group.deletedSuccessfully")),m()},onCancelText:r("group.cancel"),onConfirmText:r("group.confirm")})]})}}];return(0,t.jsx)(u.w,{header:(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(w,{trigger:r("group.create"),title:r("group.createNodeGroup"),loading:f,onSubmit:async e=>{h(!0);try{return await (0,i.cx)(e),d.A.success(r("group.createdSuccessfully")),m(),h(!1),!0}catch(e){return h(!1),!1}}})}),columns:j,data:(null==n?void 0:n.list)||[],pagination:{page:1,size:null==n?void 0:n.total,total:null==n?void 0:n.total},operations:{remove:async e=>{e.forEach(async e=>{await (0,i.OF)({id:e.id})}),d.A.success(r("group.deletedSuccessfully")),m()}}})}},51576:function(e,r,n){"use strict";n.d(r,{default:function(){return Q}});var t=n(52948),s=n(30786),a=n(22336),l=n(68119),i=n(24293),o=n(44645),c=n(26614),d=n(92887),u=n(31050),x=n(56815),m=n(44517),f=n(78324),h=n(72216),j=n(89986),p=n(83336),g=n(46959),v=n(63854),y=n(19921),N=n(2720),b=n(44783),w=n(18849),z=n(52467);let k=g.z.object({transfer_address:g.z.string().optional(),transfer_port:g.z.number().optional()}),C=g.z.object({method:g.z.string(),server_key:g.z.string()}),_=g.z.object({network:g.z.string(),enable_tls:g.z.boolean(),service_name:g.z.string().optional(),path:g.z.string().optional()}),I=g.z.object({network:g.z.string(),enable_tls:g.z.boolean(),service_name:g.z.string().optional(),path:g.z.string().optional()}),G=g.z.object({network:g.z.string(),service_name:g.z.string().optional(),path:g.z.string().optional()}),V=g.z.union([C,_,I,G]),S=g.z.object({name:g.z.string().min(2,{message:"name must be at least 2 characters."}),remarks:g.z.string().optional(),address:g.z.string(),port:g.z.number(),node_speed_limit:g.z.number().optional(),traffic_rate:g.z.number().optional(),protocol:g.z.enum(["shadowsocks","vmess","vless","trojan","transfer"]),node_group_id:g.z.number().optional().nullish(),extra_config:V.optional().and(k)});function F(e){let{onSubmit:r,initialValues:n,loading:c,trigger:d,title:m}=e,{lng:f}=(0,a.useParams)(),{t:g}=(0,l.$G)(f,"node"),[k,C]=(0,s.useState)(!1),_=(0,p.cI)({resolver:(0,h.F)(S),defaultValues:{...n}}),I=_.watch("protocol");async function G(e){await r(e)&&C(!1)}(0,s.useEffect)(()=>{(null==n?void 0:n.protocol)!==I&&(null==_||_.setValue("extra_config",{}))},[_,I,null==n?void 0:n.protocol]),(0,s.useEffect)(()=>{null==_||_.reset(n)},[_,n]);let{data:V}=(0,o.a)({queryKey:["postAdminNodeGroupList","all"],queryFn:async()=>{let{data:e}=await (0,i.uR)({size:0});return e.data.list}});return(0,t.jsxs)(z.yo,{open:k,onOpenChange:C,children:[(0,t.jsx)(z.aM,{asChild:!0,children:(0,t.jsx)(y.z,{size:"sm",onClick:()=>{_.reset(),C(!0)},children:d})}),(0,t.jsxs)(z.ue,{children:[(0,t.jsx)(z.Tu,{children:(0,t.jsx)(z.bC,{children:m})}),(0,t.jsx)(w.x,{className:"-mx-6 h-[calc(100vh-48px-36px-36px)]",children:(0,t.jsx)(N.l0,{..._,children:(0,t.jsxs)("form",{className:"grid grid-cols-2 gap-2 px-6 pt-4",children:[(0,t.jsx)(N.Wi,{control:_.control,name:"name",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.name")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"remarks",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.remarks")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"node_speed_limit",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.nodeSpeedLimit")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r,type:"number",value:r.value?Number(r.value):void 0,onChange:e=>{r.onChange(e.target.value?Number(e.target.value):void 0)}})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"traffic_rate",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.trafficRate")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r,type:"number",value:r.value?Number(r.value):void 0,onChange:e=>{r.onChange(e.target.value?Number(e.target.value):void 0)}})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"address",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.serverAddress")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"port",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.serverPort")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r,type:"number",value:r.value?Number(r.value):void 0,onChange:e=>{r.onChange(e.target.value?Number(e.target.value):void 0)}})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"protocol",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.protocol")}),(0,t.jsx)(N.NI,{children:(0,t.jsxs)(u.Ph,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,t.jsx)(N.NI,{children:(0,t.jsx)(u.i4,{children:(0,t.jsx)(u.ki,{placeholder:g("form.selectProtocol")})})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"shadowsocks",children:"Shadowsocks"}),(0,t.jsx)(u.Ql,{value:"vmess",children:"Vmess"}),(0,t.jsx)(u.Ql,{value:"vless",children:"Vless"}),(0,t.jsx)(u.Ql,{value:"trojan",children:"Trojan"})]})]})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"node_group_id",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.nodeGroupId")}),(0,t.jsx)(N.NI,{children:(0,t.jsxs)(u.Ph,{onValueChange:e=>{"empty"===e?r.onChange(void 0):r.onChange(Number(e))},defaultValue:String(r.value),children:[(0,t.jsx)(N.NI,{children:(0,t.jsx)(u.i4,{children:(0,t.jsx)(u.ki,{placeholder:g("form.selectNodeGroup")})})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"empty",children:g("form.noGroup")}),null==V?void 0:V.map(e=>(0,t.jsx)(u.Ql,{value:String(e.id),children:e.name},e.id))]})]})}),(0,t.jsx)(N.zG,{})]})}}),I&&(0,t.jsxs)(v.UQ,{type:"multiple",defaultValue:["protocol"],className:"col-span-2 w-full",children:[(0,t.jsxs)(v.Qd,{value:"protocol",children:[(0,t.jsx)(v.o4,{className:"uppercase",children:I}),(0,t.jsxs)(v.vF,{className:"grid grid-cols-2 gap-2",children:["shadowsocks"===I&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.method",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.encryptionMethod")}),(0,t.jsx)(N.NI,{children:(0,t.jsxs)(u.Ph,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,t.jsx)(N.NI,{children:(0,t.jsx)(u.i4,{children:(0,t.jsx)(u.ki,{placeholder:g("form.selectEncryptionMethod")})})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"2022-blake3-aes-256-gcm",children:"2022-blake3-aes-256-gcm"}),(0,t.jsx)(u.Ql,{value:"2022-blake3-chacha20-poly1305",children:"2022-blake3-chacha20-poly1305"}),(0,t.jsx)(u.Ql,{value:"aes-256-gcm",children:"aes-256-gcm"}),(0,t.jsx)(u.Ql,{value:"aes-128-gcm",children:"aes-128-gcm"}),(0,t.jsx)(u.Ql,{value:"chacha20-ietf-poly1305",children:"chacha20-ietf-poly1305"})]})]})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.server_key",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.password")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}})]}),"vmess"===I&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.network",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.networkType")}),(0,t.jsx)(N.NI,{children:(0,t.jsxs)(u.Ph,{onValueChange:r.onChange,defaultValue:r.value||"tcp",children:[(0,t.jsx)(N.NI,{children:(0,t.jsx)(u.i4,{children:(0,t.jsx)(u.ki,{placeholder:g("form.networkType")})})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"tcp",children:"TCP"}),(0,t.jsx)(u.Ql,{value:"websocket",children:"WebSocket"}),(0,t.jsx)(u.Ql,{value:"grpc",children:"gRPC"})]})]})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.enable_tls",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.enableTLS")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(x.r,{checked:!!r.value,onCheckedChange:r.onChange})})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.service_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.serviceName")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.path",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.path")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}})]}),"vless"===I&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.network",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.networkType")}),(0,t.jsx)(N.NI,{children:(0,t.jsxs)(u.Ph,{onValueChange:r.onChange,defaultValue:r.value||"tcp",children:[(0,t.jsx)(N.NI,{children:(0,t.jsx)(u.i4,{children:(0,t.jsx)(u.ki,{placeholder:g("form.networkType")})})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"tcp",children:"TCP"}),(0,t.jsx)(u.Ql,{value:"websocket",children:"WebSocket"}),(0,t.jsx)(u.Ql,{value:"grpc",children:"gRPC"}),(0,t.jsx)(u.Ql,{value:"http2",children:"HTTP/2"})]})]})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.enable_tls",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.enableTLS")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(x.r,{checked:!!r.value,onCheckedChange:r.onChange})})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.service_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.serviceName")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.path",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.path")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}})]}),"trojan"===I&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.network",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.networkType")}),(0,t.jsx)(N.NI,{children:(0,t.jsxs)(u.Ph,{onValueChange:r.onChange,defaultValue:r.value||"tcp",children:[(0,t.jsx)(N.NI,{children:(0,t.jsx)(u.i4,{children:(0,t.jsx)(u.ki,{placeholder:g("form.networkType")})})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"tcp",children:"TCP"}),(0,t.jsx)(u.Ql,{value:"websocket",children:"WebSocket"}),(0,t.jsx)(u.Ql,{value:"grpc",children:"gRPC"})]})]})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.service_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.serviceName")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.path",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.path")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}})]})]})]}),(0,t.jsxs)(v.Qd,{value:"transfer",children:[(0,t.jsx)(v.o4,{children:g("form.transferConfig")}),(0,t.jsxs)(v.vF,{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.transfer_address",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.transferAddress")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r})}),(0,t.jsx)(N.zG,{})]})}}),(0,t.jsx)(N.Wi,{control:_.control,name:"extra_config.transfer_port",render:e=>{let{field:r}=e;return(0,t.jsxs)(N.xJ,{children:[(0,t.jsx)(N.lX,{children:g("form.transferPort")}),(0,t.jsx)(N.NI,{children:(0,t.jsx)(b.I,{...r,type:"number",value:r.value?Number(r.value):void 0,onChange:e=>{r.onChange(e.target.value?Number(e.target.value):void 0)}})}),(0,t.jsx)(N.zG,{})]})}})]})]})]})]})})}),(0,t.jsxs)(z.FF,{className:"flex-row justify-end gap-2 pt-3",children:[(0,t.jsx)(y.z,{variant:"outline",disabled:c,onClick:()=>{C(!1)},children:g("form.cancel")}),(0,t.jsxs)(y.z,{disabled:c,onClick:_.handleSubmit(G),children:[c&&(0,t.jsx)(j.Icon,{icon:"mdi:loading",className:"mr-2 animate-spin"})," ",g("form.confirm")]})]})]})]})}function Q(){let{lng:e}=(0,a.useParams)(),{t:r}=(0,l.$G)(e,"node"),[n,h]=(0,s.useState)(!1),[j,p]=(0,s.useState)({page:1,size:50}),{data:g,refetch:v}=(0,o.a)({queryKey:["postAdminNodeList",j],queryFn:async()=>{let{data:e}=await (0,i.HZ)(j);return e.data}}),{data:y}=(0,o.a)({queryKey:["postAdminNodeGroupList","all"],queryFn:async()=>{let{data:e}=await (0,i.uR)({size:0});return e.data.list}}),N=[{accessorKey:"name",header:r("name")},{accessorKey:"protocol",header:r("type")},{accessorKey:"address",header:r("address"),cell:e=>{let{row:r}=e;return"".concat(r.original.address,":").concat(r.original.port)}},{accessorKey:"node_speed_limit",header:r("speedLimit")},{accessorKey:"traffic_rate",header:r("rate")},{accessorKey:"enabled",header:r("status"),cell:e=>{let{row:r}=e;return(0,t.jsx)(x.r,{checked:r.getValue("enabled"),onCheckedChange:async e=>{await (0,i.Eo)({...r.original,id:r.original.id,enabled:e}),v()}})}},{accessorKey:"node_group_id",header:r("nodeGroup"),cell:e=>{var r;let{row:n}=e;return null==y?void 0:null===(r=y.find(e=>e.id===n.getValue("node_group_id")))||void 0===r?void 0:r.name}},{accessorKey:"updated_at",header:r("updatedAt"),cell:e=>{let{row:r}=e;return(0,c.p6)(r.getValue("updated_at"),"yyyy-MM-dd HH:mm:ss")}},{id:"actions",accessorKey:"id",header:()=>(0,t.jsx)("div",{className:"text-right",children:r("actions")}),cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(F,{trigger:r("edit"),title:r("editNode"),loading:n,initialValues:s.original,onSubmit:async e=>{h(!0);try{return await (0,i.Eo)({...s.original,id:s.original.id,...e}),d.A.success(r("updateSuccess")),v(),h(!1),!0}catch(e){return h(!1),!1}}}),(0,t.jsx)(f.Z,{trigger:r("delete"),title:r("confirmDelete"),description:r("deleteWarning"),onConfirm:async()=>{await (0,i.dm)({id:s.original.id}),d.A.success(r("deleteSuccess")),v()},onCancelText:r("cancel"),onConfirmText:r("confirm")})]})}}];return(0,t.jsx)(m.w,{header:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)(u.Ph,{onValueChange:e=>{p({...j,node_group_id:"all"===e?void 0:Number(e)})},children:[(0,t.jsx)(u.i4,{className:"w-[180px]",children:(0,t.jsx)(u.ki,{placeholder:r("nodeGroup")})}),(0,t.jsx)(u.Bw,{children:(0,t.jsxs)(u.DI,{children:[(0,t.jsx)(u.Ql,{value:"all",children:r("all")}),null==y?void 0:y.map(e=>(0,t.jsx)(u.Ql,{value:String(e.id),children:e.name},e.id))]})})]}),(0,t.jsx)(F,{trigger:r("create"),title:r("createNode"),loading:n,onSubmit:async e=>{h(!0);try{return await (0,i.d_)({...e,enabled:!0}),d.A.success(r("createSuccess")),v(),h(!1),!0}catch(e){return h(!1),!1}}})]}),columns:N,data:(null==g?void 0:g.list)||[],pagination:{page:j.page,size:j.size,total:null==g?void 0:g.total,onChange:(e,r)=>{p({...j,page:e,size:r})}},operations:{remove:async e=>{e.forEach(async e=>{await (0,i.dm)({id:e.id})}),d.A.success(r("deleteSuccess")),v()}}})}},63854:function(e,r,n){"use strict";n.d(r,{Qd:function(){return c},UQ:function(){return o},o4:function(){return d},vF:function(){return u}});var t=n(52948),s=n(30786),a=n(11826),l=n(28523),i=n(33412);let o=a.fC,c=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.ck,{ref:r,className:(0,i.cn)("border-b",n),...s})});c.displayName="AccordionItem";let d=s.forwardRef((e,r)=>{let{className:n,children:s,...o}=e;return(0,t.jsx)(a.h4,{className:"flex",children:(0,t.jsxs)(a.xz,{ref:r,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...o,children:[s,(0,t.jsx)(l.v4q,{className:"size-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})})});d.displayName=a.xz.displayName;let u=s.forwardRef((e,r)=>{let{className:n,children:s,...l}=e;return(0,t.jsx)(a.VY,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,t.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",n),children:s})})});u.displayName=a.VY.displayName},2720:function(e,r,n){"use strict";n.d(r,{NI:function(){return j},Wi:function(){return u},l0:function(){return c},lX:function(){return h},xJ:function(){return f},zG:function(){return p}});var t=n(52948),s=n(30786),a=n(63911),l=n(83336),i=n(33412),o=n(81623);let c=l.RV,d=s.createContext({}),u=e=>{let{...r}=e;return(0,t.jsx)(d.Provider,{value:{name:r.name},children:(0,t.jsx)(l.Qr,{...r})})},x=()=>{let e=s.useContext(d),r=s.useContext(m),{getFieldState:n,formState:t}=(0,l.Gc)(),a=n(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},m=s.createContext({}),f=s.forwardRef((e,r)=>{let{className:n,...a}=e,l=s.useId();return(0,t.jsx)(m.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",n),...a})})});f.displayName="FormItem";let h=s.forwardRef((e,r)=>{let{className:n,...s}=e,{error:a,formItemId:l}=x();return(0,t.jsx)(o._,{ref:r,className:(0,i.cn)(a&&"text-destructive",n),htmlFor:l,...s})});h.displayName="FormLabel";let j=s.forwardRef((e,r)=>{let{...n}=e,{error:s,formItemId:l,formDescriptionId:i,formMessageId:o}=x();return(0,t.jsx)(a.g7,{ref:r,id:l,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...n})});j.displayName="FormControl",s.forwardRef((e,r)=>{let{className:n,...s}=e,{formDescriptionId:a}=x();return(0,t.jsx)("p",{ref:r,id:a,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",n),...s})}).displayName="FormDescription";let p=s.forwardRef((e,r)=>{let{className:n,children:s,...a}=e,{error:l,formMessageId:o}=x(),c=l?String(null==l?void 0:l.message):s;return c?(0,t.jsx)("p",{ref:r,id:o,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",n),...a,children:c}):null});p.displayName="FormMessage"},31050:function(e,r,n){"use strict";n.d(r,{Bw:function(){return f},DI:function(){return c},Ph:function(){return o},Ql:function(){return h},i4:function(){return u},ki:function(){return d}});var t=n(52948),s=n(30786),a=n(28523),l=n(21418),i=n(33412);let o=l.fC,c=l.ZA,d=l.B4,u=s.forwardRef((e,r)=>{let{className:n,children:s,...o}=e;return(0,t.jsxs)(l.xz,{ref:r,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...o,children:[s,(0,t.jsx)(l.JO,{asChild:!0,children:(0,t.jsx)(a.jnn,{className:"size-4 opacity-50"})})]})});u.displayName=l.xz.displayName;let x=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(l.u_,{ref:r,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,t.jsx)(a.g8U,{})})});x.displayName=l.u_.displayName;let m=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(l.$G,{ref:r,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,t.jsx)(a.v4q,{})})});m.displayName=l.$G.displayName;let f=s.forwardRef((e,r)=>{let{className:n,children:s,position:a="popper",...o}=e;return(0,t.jsx)(l.h_,{children:(0,t.jsxs)(l.VY,{ref:r,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:a,...o,children:[(0,t.jsx)(x,{}),(0,t.jsx)(l.l_,{className:(0,i.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(m,{})]})})});f.displayName=l.VY.displayName,s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(l.__,{ref:r,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",n),...s})}).displayName=l.__.displayName;let h=s.forwardRef((e,r)=>{let{className:n,children:s,...o}=e;return(0,t.jsxs)(l.ck,{ref:r,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(l.wU,{children:(0,t.jsx)(a.nQG,{className:"size-4"})})}),(0,t.jsx)(l.eT,{children:s})]})});h.displayName=l.ck.displayName,s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(l.Z0,{ref:r,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",n),...s})}).displayName=l.Z0.displayName},52467:function(e,r,n){"use strict";n.d(r,{FF:function(){return j},Tu:function(){return h},aM:function(){return d},bC:function(){return p},ue:function(){return f},yo:function(){return c}});var t=n(52948),s=n(30786),a=n(97647),l=n(28523),i=n(14709),o=n(33412);let c=a.fC,d=a.xz;a.x8;let u=a.h_,x=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s,ref:r})});x.displayName=a.aV.displayName;let m=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),f=s.forwardRef((e,r)=>{let{side:n="right",className:s,children:i,...c}=e;return(0,t.jsxs)(u,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(a.VY,{ref:r,className:(0,o.cn)(m({side:n}),s),...c,children:[i,(0,t.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(l.Pxu,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=a.VY.displayName;let h=e=>{let{className:r,...n}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",r),...n})};h.displayName="SheetHeader";let j=e=>{let{className:r,...n}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...n})};j.displayName="SheetFooter";let p=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.Dx,{ref:r,className:(0,o.cn)("text-lg font-semibold text-foreground",n),...s})});p.displayName=a.Dx.displayName,s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.dk,{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",n),...s})}).displayName=a.dk.displayName},56815:function(e,r,n){"use strict";n.d(r,{r:function(){return i}});var t=n(52948),s=n(30786),a=n(84051),l=n(33412);let i=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.fC,{className:(0,l.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...s,ref:r,children:(0,t.jsx)(a.bU,{className:(0,l.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});i.displayName=a.fC.displayName},60753:function(e,r,n){"use strict";n.d(r,{Tabs:function(){return i},TabsContent:function(){return d},TabsList:function(){return o},TabsTrigger:function(){return c}});var t=n(52948),s=n(30786),a=n(3536),l=n(33412);let i=a.fC,o=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.aV,{ref:r,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...s})});o.displayName=a.aV.displayName;let c=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.xz,{ref:r,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...s})});c.displayName=a.xz.displayName;let d=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.VY,{ref:r,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s})});d.displayName=a.VY.displayName}},function(e){e.O(0,[30792,61896,94699,3869,89986,34099,92494,66035,61488,97647,17399,56856,1398,21418,3536,25765,82349,44517,12100,81162,1744],function(){return e(e.s=45596)}),_N_E=e.O()}]);